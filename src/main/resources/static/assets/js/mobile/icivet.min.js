var CivetJsSDK_iPhone_Run=0;(function(){function _createQueueReadyIframe(n){for(var t,i=0;i<5;i++)t=n.createElement("iframe"),t.style.display="none",n.documentElement.appendChild(t),iOsMsgIframes[i]=t}function document_readystatechange(){document.readyState=="complete"&&window.civet_init_phone_for_iPad_byEquipment()}function civet_init_phone_for_iPad(){for(var i=document.getElementsByTagName("A"),r=i.length,t,n=0;n<r;n++)t=i[n].href.toLowerCase().replace("^s+","").replace("s+$",""),t.indexOf("tel:")==0&&(i[n].href="javascript:window.civetmobile.callPhoneNum('"+t.substr(6)+"')")}var u=navigator.userAgent,methods,code,strAllMethods,i,method;if(window.setIosJsThreadNum=function(){},!(u.indexOf("Civet")<=-1)&&(!(u.indexOf("iPhone")<=-1)||!(u.indexOf("iPad")<=-1))){CivetJsSDK_iPhone_Run=1;var useIframeCount=0,iOsMsgIframes=[null,null,null,null,null],bridge="civetmobile",CUSTOM_PROTOCOL_SCHEME="jscall";if(!window[bridge]){for(window[bridge]={},methods=["showWebGif","view_picture","selectMedia","view_video","view_public_no_info","activity_intent","activity_intent2","show_calendar","show_location","navigation","find_location","scan_qrcode","open_file","hideOptionMenu","showOptionMenu","closeWindow","hideMenuItems","showMenuItems","setScreenDirection","callPhoneNum","chat","getCurrentUser","getFriendsInfo","getUserInfo","secretPage","watermark","scan_pcode","cleanCache","hideNav","showNav","copyToClipboard","wechatPay","aliPay","shareNews","actionURI","open_webview","open_webview2","get_location"],strAllMethods="|",i=0;i<methods.length;i++)method=methods[i],strAllMethods+=method+"|",code="(window[bridge])[method] = function "+method+"() { useIframeCount = (useIframeCount + 1) % iOsMsgIframes.length; iOsMsgIframes[useIframeCount].src = CUSTOM_PROTOCOL_SCHEME + ':' + arguments.callee.name + ':' + encodeURIComponent(JSON.stringify(arguments));}",eval(code);if(typeof civet_ios_ext_methods=="object")for(i=0;i<civet_ios_ext_methods.length;i++)(method=civet_ios_ext_methods[i],strAllMethods.indexOf("|"+method+"|")==-1)&&(strAllMethods+=method+"|",code="(window[bridge])[method] = function "+method+"() { useIframeCount = (useIframeCount + 1) % iOsMsgIframes.length; iOsMsgIframes[useIframeCount].src = CUSTOM_PROTOCOL_SCHEME + ':' + arguments.callee.name + ':' + encodeURIComponent(JSON.stringify(arguments));}",eval(code));_createQueueReadyIframe(document),window.setIosJsThreadNum=function(n){var u=iOsMsgIframes.length,r,t,i;if(n>u)for(r=document,iOsMsgIframes.length=n,t=u;t<n;t++)i=r.createElement("iframe"),i.style.display="none",r.documentElement.appendChild(i),iOsMsgIframes[t]=i},document.onreadystatechange=document_readystatechange,window.civet_init_phone_for_iPad_byEquipment=function(){var n=navigator.userAgent;(CivetJsSDK_iPhone_Run==0||n.indexOf("iPad")==-1)&&civet_init_phone_for_iPad()}}}})(),function(n){var f=function(n){return typeof n=="undefined"||n==undefined||n==null?!0:!1},i=function(n){return f(n)||n==""},t=function(n){return typeof n=="function"},r=function(){return alert("请使用香信客户端执行此操作！"),!1},u;n.cmJs=n.civetmobile,i(cmJs)?(cmJs={is_civet_environment:!1},n.civetmobile=cmJs):(cmJs.is_civet_environment=!0,i(cmJs.civet_js_alert)||(n.alert=cmJs.civet_js_alert),i(cmJs.civet_js_confirm)||(n.confirm=cmJs.civet_js_confirm),i(cmJs.civet_js_prompt)||(n.prompt=cmJs.civet_js_prompt)),n.civet_js_notify={},u=navigator.userAgent.match(/iCivet\s+[\s\S]*(Android|iOS)\s+ver\s*([0-9\.]+(?:\.[A-Za-z][\s\S]+|))\s*JS\s*ver\s*([0-9\.]+)/),n.cm={protocol:document.location.protocol,useCivet:/civet/i.test(navigator.userAgent),CivetVersion:u!=null?u[2]:null,CivetDevice:u!=null?u[1]:null,CivetJsVersion:u!=null?u[3]:null,runTimes:{hideOptionMenu:0,"显示右上角菜单":0},chooseImage:function(n){if(!t(cmJs.selectMedia)){if(t(n.deal)){n.deal();return}return r()}if(i(n.type)||"|image|record|camera|image&camera|".indexOf(n.type)==-1&&(n.type=null),i(n.maxCount)||(isNaN(n.maxCount)&&(n.maxCount=null),n.maxCount=parseInt(n.maxCount,10),(n.maxCount<=0||n.maxCount>30)&&(n.maxCount=null)),i(n.type)&&i(n.maxCount))cmJs.selectMedia();else try{cmJs.selectMedia(n.type,n.maxCount)}catch(u){cmJs.selectMedia()}civet_js_notify.chooseImage=t(n.success)==!0?n.success:null},previewImage:function(n){var o,e,f;if(!i(n.index)&&!isNaN(n.index)&&!i(n.urls)&&i(n.current))try{n.current=n.urls[n.index]}catch(h){n.current=null}if(i(n.urls)||i(n.current)){t(n.fail)==!0&&n.fail("urls、current参数不能为空！");return}var r=n.current,u=n.urls,s=n.dealGif;if(s==!0&&r.substring(r.lastIndexOf(".")+1,r.length).toLowerCase()=="gif"){if(!t(cmJs.showWebGif)){if(t(n.deal)){n.deal(r);return}if(t(window.previewImageFun)){window.previewImageFun(r);return}return}cmJs.showWebGif(r);return}if(!t(cmJs.view_picture)){if(t(n.deal)){n.deal(r);return}if(t(window.previewImageFun)){window.previewImageFun(r);return}window.open(r);return}for(o=-1,e="",typeof u=="string"&&(u=u.indexOf("|")==-1?[u]:u.split("|")),f=0;f<u.length;f++)f!=0&&(e+="|"),e+=u[f],u[f]==r&&(o=f);o==-1&&(o=u.length,e+=(e==""?"":"|")+r),cmJs.view_picture(e,o)},previewVideo:function(n){if(i(n.url)){t(n.fail)==!0&&n.fail("url参数不能为空！");return}if(!t(cmJs.view_video)){if(t(n.deal)){n.deal(n.url);return}if(t(window.previewVideoFun)){window.previewVideoFun(n.url);return}window.open(n.url);return}cmJs.view_video(n.url),civet_js_notify.previewVideo=t(n.close)==!0?n.close:null},previewMedia:function(n){function o(u){if(r.uploaded_count=u.find("img[o-type='img'], img[o-type='gif'], img[o-type='video']").length,r.uploaded_count>=r.max_upload_count?r.area.find(".civet_upload_button, iframe#__cvtu__").hide():r.area.find(".civet_upload_button, iframe#__cvtu__").show(),u.find(".ImgPath").each(function(){var n=this;n.value="",u.find("img[o-type='img'], img[o-type='gif']").each(function(){n.value+=","+$(this).attr("o-src")})}),u.find(".VideoPath").each(function(){var n=this;n.value="",u.find("img[o-type='video']").each(function(){n.value+=","+$(this).attr("o-src")})}),t(cmJs.view_picture)!=!0||t(cmJs.showWebGif)!=!0||t(cmJs.view_video)!=!0){t(n.deal)!=!0&&(n.deal=function(n){window.open(n)});u.find("img[o-type='img'], img[o-type='gif'], img[o-type='video']").off("click").on("click",function(){var t=$(this).attr("o-src");i(t)&&(t=$(this).attr("src")),n.deal(t,$(this).attr("o-type"))});return}var e=u.find("img[o-type='img'], img[o-type='gif']"),f="";e.each(function(){var t=$(this).attr("o-src");t&&t!=""||(t=$(this).attr("src")),f+="|"+t}),f!=""&&(f=f.substr(1)),e.each(function(n){$(this).off("click").on("click",function(){$(this).attr("o-type")=="img"?cmJs.view_picture(f,n):cmJs.showWebGif($(this).attr("o-src"))})});u.find("img[o-type='video']").off("click").on("click",function(){var n=$(this).attr("o-src");cmJs.view_video(n)})}var r=this,u,e,s;if(t(n.fail)!=!0&&(n.fail=function(n){alert(n)}),i(n)||i(n.area)){n.fail("请转入一个对像，area属性不能为空！");return}if(u=$(n.area),u.length==0){n.fail("找不到显示区域！");return}if(r.area=u,r.video_icon=cm.protocol+"//civetinterface.foxconn.com/Content/images/video.jpg",r.initWin=function(){},r.ImgPathName=i(n.ImgPathName)?"ImgPath":n.ImgPathName,r.VideoPathName=i(n.VideoPathName)?"VideoPath":n.VideoPathName,i(n.init_upload_win_ext)!=!0&&(r.init_upload_win_ext=n.init_upload_win_ext),r.uploaded_count=0,r.max_upload_count=i(n.max_upload_count)?100:isNaN(n.max_upload_count)?100:n.max_upload_count,r.upload_type=i(n.upload_type)?"all":r.upload_type,e=parseInt(n.display_image_width)>30?parseInt(n.display_image_width):60,r.display_image_width=e,!i(n.upload_mode)&&n.upload_mode==1){var h='<span style="position: relative; display:inline-block; margin: 5px;">',c='<div class="del-img" style="width:25px;height:25px;position:absolute;right:-5px;top:-5px;z-index:98;text-align:right;"><img src="//civetinterface.foxconn.com/Content/images/delete.png" style="width:20px;height:20px;"></div>',l="</span>";u.find("img[o-type='img'], img[o-type='gif'], img[o-type='video']").wrap(h+l).after(c);u.find(".del-img").on("click",function(){confirm("是否要删除这个图片/视频！")&&($(this).parent().remove(),o(u))});if((f(n.upload_button_html)||typeof n.upload_button_html=="object")&&(n.upload_button_html='<img src="'+cm.protocol+'//civetinterface.foxconn.com/Content/images/add_media.png" style="width: '+e+"px; height: "+e+'px;">'),n.upload_button_html!=""){if(t(cmJs.selectMedia)&&n.never_use_civet_js!=1){s='<span class="civet_upload_button">'+n.upload_button_html+"</span>",u.append(s);u.find(".civet_upload_button").on("click",function(){cm.chooseImage({type:r.upload_type,maxCount:r.uploaded_count<r.max_upload_count?r.max_upload_count-r.uploaded_count:1,success:function(n){for(var u=n.localIds,i,t=0;t<u.length;t++)i="",n.isVedio=="true"?i="video":(i="img",/\.gif$/i.test(u[t])&&(i="gif")),r.addMedia(u[t],i)}})})}else i(n.upload_url)?alert('請設定請求對像的upload_url參數，值為你的網站接收上傳的URL來接收files["civet_uploads"]參數。上傳成功之後調用js對像的.add(\'<img src="[縮略圖]" o-src="[原圖]" o-type="img" />\')方法'):(r.initWin=function(){var s=this.area,u=$(s.find("iframe")[0].contentWindow.document),o,f,i;u.length!=0&&(o='<style type="text/css">*{margin:0;padding:0}body{margin:0;padding:0}#uploadFile{position:absolute;filter:Alpha(opacity=0);opacity:0;height:'+e+"px;width:"+e+"px;z-index:100}</style>",u.find("head").append(o),f=u.find("body"),i='<form id="form01" action="'+n.upload_url+'" enctype="multipart/form-data" method="post" style="position:absolute;top:0;left:0">',i+='<input id="uploadFile" name="civet_uploads" type="file" hidefocus="hidefocus" onchange="javascript:document.getElementById(\'form01\').submit();" />',i+="</form>",f.append(i+n.upload_button_html),t(r.init_upload_win_ext)==!0&&r.init_upload_win_ext())},r.init=function(){u.append('<iframe src="about:blank" frameborder="0" scrolling="no" id="__cvtu__" style="width: '+e+"px; height: "+e+'px;margin:0 5px;"></iframe>'),setTimeout(function(){r.initWin()},500)},r.init(),r.error=function(n){alert(n),r.init()});u.append('<input type="hidden" class="ImgPath" name="'+r.ImgPathName+'" >'),u.append('<input type="hidden" class="VideoPath" name="'+r.VideoPathName+'" >')}r.addMedia=function(n,t,u){if(!i(n)){e=r.display_image_width;var f=i(u)?t=="video"?r.video_icon:cm.crop(n,e*2,e*2):u;t!="gif"&&t!="video"&&(t="img"),r.add('<img src="'+f+'" o-src="'+n+'" o-type="'+t+'" style="width: '+e+"px; height: "+e+'px;" />')}},r.add=function(n){var t,s,f,e;if(!i(n)){if(typeof n=="object")try{r.addMedia(n.url,n.type,n.icon);return}catch(a){}this.area.find(".civet_upload_button, iframe#__cvtu__").before(h+n+c+l),t=this.area.find(".del-img:last").parent().find("img[o-type='img'], img[o-type='gif'], img[o-type='video']"),t.length!=0&&t.attr("o-type")!="video"&&t.attr("o-src")!=""&&t.attr("o-src")!=t.attr("src")&&(s=t.attr("src"),f=new Image,f.onerror=function(){if(this.src.indexOf("civet_load_try=1")==-1){this.src+=(f.src.indexOf("?")==-1?"?":"&")+"civet_load_try=1";var n=this.src;this.onload=function(){t.attr("src",n)};return}t.attr("src",t.attr("o-src"))},f.src=s,$("#uploadFile").val());this.area.find(".del-img:last").off("click").on("click",function(){confirm("是否要删除这个图片/视频！")&&($(this).parent().remove(),o(u))});o(u),this.area.find("iframe#__cvtu__").attr("src","about:blank"),e=this,setTimeout(function(){e.initWin()},500)}},r.val=function(){var n=[];return r.area.find("img[o-type='img'], img[o-type='gif'], img[o-type='video']").each(function(){n.push({url:$(this).attr("o-src"),type:$(this).attr("o-type")})}),n}}o(u)},showPublicNoInfo:function(n){if(i(n.civetno)){t(n.fail)==!0&&n.fail("civetno参数不能为空！");return}if(n.civetType||(n.civetType=1),!t(cmJs.view_public_no_info))return r();cmJs.view_public_no_info(n.civetno,n.civetType)},conference:function(n){if(!t(cmJs.activity_intent))return r();i(n.confName)&&(n.confName="我的会议室"),i(n.confImg)&&(n.confImg=" http://icivetmedia.foxconn.com/group1/M00/00/B3/CoaWY1S6OHqEC6pLAAAAAO7rqVU017-300-150-crop.jpg"),i(n.confRemark)&&(n.confRemark="会议室讨论的主题：怎样解决交通拥挤问题"),i(n.confUrl)&&(n.confUrl="http://icivet.foxconn.com/");var e=new Date,o=n.creator,l=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes(),h=n.confName,a=n.confImg,v=n.confRemark,c=n.confUrl,s=n.confId,f=n.peoples,u="<content><TYPE>theme</TYPE><LEVEL>0</LEVEL><TITLE>";u+="<![CDATA["+v+"]\]></TITLE>",u+="<IMGURL>"+a+"</IMGURL>",u+="<OWNER><![CDATA["+o+"]\]></OWNER>",u+="<DATE>"+l+"</DATE>",u+="<LINK><![CDATA["+c+"]\]></LINK>",i(n.notifyUrl)||(u+="<NOTIFY><![CDATA["+n.notifyUrl+"]\]></NOTIFY>"),u+="<MaxPersonNum>50</MaxPersonNum>",u+="</content>";try{i(f)?cmJs.activity_intent(h,u,s,o):(f=f.replace(/(，|；|;)/g,","),t(cmJs.activity_intent2)?cmJs.activity_intent2(h,u,s,o,f):cmJs.activity_intent(h,u,s,o,f))}catch(y){t(n.fail)==!0&&n.fail("创建会议室失败")}},calender:function(n){if(!t(cmJs.show_calendar)){if(t(n.deal)){n.deal(n.defaultDate);return}return r()}if(i(n.defaultDate)){var u=new Date;n.defaultDate=u.getFullYear()+"-"+(u.getMonth()+1)+"-"+u.getDate()}cmJs.show_calendar(n.defaultDate),civet_js_notify.calender=t(n.success)==!0?n.success:null},showLocation:function(n){var i,u;if(!t(cmJs.show_location)){if(t(n.deal)){n.deal(n);return}return r()}var h=n.length,o="",e="",s="",f="";for(i=0;i<h;i++)u=i==0?"":",",o+=u+n[i].imgUrl,e+=u+n[i].name,s+=u+n[i].x,f+=u+n[i].y;cmJs.show_location(o,e,s,f)},navigation:function(n){var i,u;if(!t(cmJs.navigation)){if(t(n.deal)){n.deal(n);return}return r()}var h=n.length,o="",e="",s="",f="";for(i=0;i<h;i++)u=i==0?"":",",o+=u+n[i].imgUrl,e+=u+n[i].name,s+=u+n[i].x,f+=u+n[i].y;cmJs.navigation(o,e,s,f)},getLocation:function(n){if(!t(cmJs.find_location)){if(t(n.deal)){n.deal();return}return r()}cmJs.find_location(),civet_js_notify.getLocation=t(n.success)==!0?n.success:null},scanQRCode:function(n){if(!t(cmJs.scan_qrcode)){if(t(n.deal)){n.deal();return}return r()}cmJs.scan_qrcode(),civet_js_notify.scanQRCode=t(n.success)==!0?n.success:null},scanPCode:function(n){if(!t(cmJs.scan_pcode)){if(t(n.deal)){n.deal();return}return r()}cmJs.scan_pcode(),civet_js_notify.scanPCode=t(n.success)==!0?n.success:null},openFile:function(n){if(!t(cmJs.open_file)){if(t(n.deal)){n.deal(n.url);return}return r()}cmJs.open_file(n.type,n.url)},hideOptionMenu:function(){t(cmJs.hideOptionMenu)&&(cmJs.hideOptionMenu(),cm.runTimes.hideOptionMenu++)},showOptionMenu:function(){t(cmJs.showOptionMenu)&&(cmJs.showOptionMenu(),cm.runTimes.showOptionMenu++)},hideMenuItems:function(n){var u,r,i;if(!t(cmJs.hideMenuItems)){if(t(n.deal)){n.deal();return}return}for(u=n.menuList.length,r="",i=0;i<u;i++)i!=0&&(r+=","),r+=n.menuList[i];cmJs.hideMenuItems(r)},showMenuItems:function(n){var u,r,i;if(!t(cmJs.showMenuItems)){if(t(n.deal)){n.deal();return}return}for(u=n.menuList.length,r="",i=0;i<u;i++)i!=0&&(r+=","),r+=n.menuList[i];cmJs.showMenuItems(r)},setScreen:function(n){if(!t(cmJs.setScreenDirection)){if(t(n.deal)){n.deal();return}return}var i=n.direction;cmJs.setScreenDirection(i)},closeWindow:function(){if(!t(cmJs.closeWindow)){window.top.close();return}cmJs.closeWindow()},phoneNoInit:function(){civet_init_phone_for_iPad_byEquipment()},chat:function(n){if(!t(cmJs.chat)){if(t(n.deal)){n.deal();return}return r()}if(i(n.civetno)){t(n.fail)==!0&&n.fail("civetno参数不能为空！");return}cmJs.chat('{"emp_no": "'+n.civetno+'"}')},getCurrentUser:function(n){if(!t(cmJs.getCurrentUser)){if(t(n.deal)){n.deal();return}return r()}cmJs.getCurrentUser(),civet_js_notify.getCurrentUser=t(n.success)==!0?n.success:null},getFriendsInfo:function(n){if(!t(cmJs.getFriendsInfo)){if(t(n.deal)){n.deal();return}return r()}cmJs.getFriendsInfo(),civet_js_notify.getFriendsInfo=t(n.success)==!0?n.success:null},getUserInfo:function(request){if(!t(cmJs.getUserInfo)){if(t(request.deal)){request.deal();return}return r()}cmJs.getUserInfo('{"emp_no":"'+request.emp_no+'"}');var code;code=t(request.success)==!0?"civet_js_notify.getUserInfo_"+request.emp_no.toLowerCase()+" = request.success;":"civet_js_notify.getUserInfo_"+request.emp_no.toLowerCase()+" = null;",eval(code)},getGPS:function(n){if(!t(cmJs.get_location)){if(t(n.deal)){n.deal();return}return r()}cmJs.get_location(),civet_js_notify.get_location=t(n.success)==!0?function(t){var f=0,e=0,u=0,o="",r,i;try{o=t.value.result}catch(s){n.success({lat:f,lng:e,code:u})}r=/Latitude\=([0-9\.\-]+)\,\s*Longitude\=([0-9\.\-]+)/i,i=o.match(r),i!=null?(f=i[1],e=i[2],u=1):(r=/Longitude\=([0-9\.\-]+)\,\s*Latitude\=([0-9\.\-]+)/i,i=o.match(r),i!=null&&(f=i[2],e=i[1],u=1)),n.success({lat:f,lng:e,code:u})}:null},shareNews:function(n){if(!t(cmJs.shareNews)){if(t(n.deal)){n.deal();return}return r()}if(i(n.title)||i(n.url)||i(n.icon)){t(n.fail)==!0&&n.fail("title、url参数不能为空！");return}i(n.desc)&&(n.desc=n.title),i(n.type)&&(n.type="chat"),n.type!="chat"&&(n.type="friendCircle"),i(n.publishTime)&&(n.publishTime=(new Date).CivetFormat("yyyy-MM-dd HH:mm:ss")),cmJs.shareNews('{"type":"'+n.type+'","title":"'+n.title+'","document":"'+n.desc+'","imgUrl":"'+n.icon+'","company":"'+n.company+'", "publishTime":"'+n.publishTime+'","newsUrl":"'+n.url+'"}')},full_url:function(n){var t=n.replace(/\\/g,"/").replace(/(^\s+|\s+$)/,""),i,r;return t.indexOf("//")==-1?(i=cm.protocol+"//"+window.location.host,t.substr(0,1)=="/"?i+t:(r=window.location.pathname.substr(0,window.location.pathname.lastIndexOf("/")+1),i+r+t)):n},open_webview:function(n){if(!t(cmJs.open_webview)){window.open(n);return}cmJs.open_webview(this.full_url(n))},open_webview2:function(n){if(!t(cmJs.open_webview2)){window.open(n);return}cmJs.open_webview2(this.full_url(n))},hideNav:function(){try{cmJs.hideNav()}catch(n){}},showNav:function(){try{cmJs.showNav()}catch(n){}},cleanCache:function(){t(cmJs.cleanCache)&&cmJs.cleanCache()},actionURI:function(n){t(cmJs.actionURI)&&cmJs.actionURI(n)},crop:function(n,t,i){if(/icivetmedia.foxconn.com/i.test(n)&&!/\-[0-9]+/.test(n)){var r=n.lastIndexOf(".");r!=-1&&((!t||isNaN(t))&&(t=100),(!i||isNaN(i))&&(i=t),n=n.substring(0,r)+"-"+t+"-"+i+"-crop"+n.substring(r))}return n},secretPage:function(n){n=n==!0||n==1||n=="1",cm.existsSecretPage()==!0?cmJs.secretPage(n):n?(cm.hideOptionMenu(),cm.runTimes.hideOptionMenu--):cm.runTimes.hideOptionMenu==0&&cm.showOptionMenu()},existsSecretPage:function(){var r,i,n,u;return t(cmJs.secretPage)?CivetJsSDK_iPhone_Run==1?(r=/^[\s\S]+Civet\s+iOS\s*ver\s+([0-9\.]+)\s*JS[\s\S]+$/ig,i=navigator.userAgent,!r.test(i))?!1:(n=(i.replace(r,"$1")+".0.0").split("."),u=parseInt(n[0],10)*1e6+parseInt(n[1],10)*1e4+parseInt(n[2],10),u>=3010509)?!0:!1:!0:!1},watermark:function(n){if(t(cmJs.watermark)){var i="0";(n==="1"||n===1||n===!0||n==="true")&&(i="1"),cm.watermarkStatus=i,cmJs.watermark('{ "show": "'+i+'" }')}},watermarkStatus:null,nonCopy:function(){function n(n){var t;return window.event?t=n.keyCode:n.which&&(t=n.which),t==17?(alert("禁止复制内容！"),!1):void 0}document.oncontextmenu=function(){return!1},document.onselectstart=function(){return!1},document.onkeydown=function(){return n(arguments[0])}},openCopy:function(){document.oncontextmenu=function(){},document.onselectstart=function(){},document.onkeydown=function(){}},localStorage:function(){function f(i,r){function u(f){if(!f)if(t==""){var e=Math.random()+"";t=e,n.src=i,n.onload=function(){try{n.src="about:blank",n.onload=function(){t="",f=!0,typeof r=="function"&&r(JSON.parse(n.contentWindow.name))}}catch(i){}},setTimeout(function(){t==e&&(t="")},5e3)}else setTimeout(function(){u(f)},100)}u(!1)}function e(n,t){return t+"-"+encodeURIComponent(n.replace(/Open\/oauth/i,"Open__oauth").replace(/(\/|\\)/g,"(.a)").replace(/\?/g,"(.b)").replace(/:/g,"(.)").replace(/\-/g,"(!)").replace(/&/g,"(.7)").replace(/%/g,"(.5)"))}var o="CivetPublic-LocalStorage-iFrame",n=document.getElementById(o),u=cm.protocol+"//civetinterface.foxconn.com",r,t;n==null&&(n=document.createElement("iframe"),n.id="CivetPublic-LocalStorage-iFrame",n.name="blank",n.src="about:blank",n.style.display="none",document.body.appendChild(n)),r=this,t="",this.getItem=function(n,t){var i=u+"/LocalStorage/GetItem?Key="+encodeURIComponent(n);f(i,t)},this.setItem=function(n,t,i,r){var e=u+"/LocalStorage/SetItem?Key="+encodeURIComponent(n)+"&Value="+encodeURIComponent(t)+"&Sign="+i;f(e,r)},this.clear=function(n,t){var i=u+"/LocalStorage/Clear?Key="+encodeURIComponent(n);f(i,t)},this.screenButton=function(n){r.getItem("CivetScreenCtrl",function(t){var o,e,s,u,f;t.val!=null&&(o=cm.protocol+"//icivetmedia.foxconn.com/group1/M00/59/0B/CoaWY1q96XmAGpIEAAAP50T24Es481.png",(i(n)||/^\s*$/.test(n))&&(n=window.location.href),e=+new Date,r.setItem("CivetScreenCtrl_theUrl",e+"."+n),s=t.val+"-t."+e,u='<style type="text/css">#page-to-srceen,a#page-to-srceen:link,a#page-to-srceen:visited{position:fixed; top: 68px; right: 15px; width: 40px;height:31px;z-index:999;opacity: 0.2; filter: alpha(opacity=20);}a#page-to-srceen:hover{opacity: 0.8; filter: alpha(opacity=80);}</style>',u+='<a href="javascript:void(0)" onclick="cm.open_webview(\''+s+'\');" id="page-to-srceen"><img src="'+o+'" style="width: 40px; height: 31px;"></a>',f=document.createElement("div"),f.innerHTML=u,document.body.appendChild(f),cm.freeMove(document.getElementById("page-to-srceen")))})},this.setScreenUrl=function(n,t){if(i(t)){if(i(this.CtrlUrl)){r.getItem("CivetScreenCtrl",function(t){t.val!=null?(this.CtrlUrl=t.val,cm.open_webview(e(n,this.CtrlUrl))):alert("請先設定大屏顯示實例頁面的地址")});return}t=this.CtrlUrl}cm.open_webview(e(n,t))},this.CtrlUrl=""},iPhoneX:function(){return/iphone/gi.test(navigator.userAgent)&&screen.height>=812&&screen.width>=375}},n.showMedia=function(n,t){var r,u,i;for(n=n.replace("[","").replace("]",""),r=n.split(","),u=[],i=0;i<r.length;i++)u[i]=r[i];civet_js_notify.chooseImage&&civet_js_notify.chooseImage({localIds:u,isVedio:t})},n.civetSelectedDate=function(n){civet_js_notify.calender&&civet_js_notify.calender({date:n})},n.civetUploadLocation=function(n,t,i,r){civet_js_notify.getLocation&&civet_js_notify.getLocation({latitude:r,longitude:i,address:t,name:n,speed:0,accuracy:1})},n.show_qrcode=function(n){civet_js_notify.scanQRCode&&civet_js_notify.scanQRCode({resultStr:n})},n.show_pcode=function(n){civet_js_notify.scanPCode&&civet_js_notify.scanPCode({resultStr:n})},n.feedback=function(data){var json=null,p,i,playSec,StaySec,code;try{typeof data=="string"?(p="json = "+data.replace(/\s+/ig," ").replace(/\"\s?\[{/ig,"[{").replace(/}\]\s?\"/ig,"}]"),eval(p)):json=data}catch(e){}if(json==null||typeof json.actionId=="undefined"){typeof __CivetJsErrAlert=="string"&&alert(JSON.stringify(data));return}if(json.actionId=="getCurrentUser"){if(civet_js_notify.getCurrentUser){try{json.value.emp_no=json.value.emp_no.toUpperCase()}catch(e){}civet_js_notify.getCurrentUser(json)}}else if(json.actionId=="getFriendsInfo"){if(civet_js_notify.getFriendsInfo){try{for(i=0;i<json.value.length;i++)json.value[i].emp_no=json.value[i].emp_no.toUpperCase()}catch(e){}civet_js_notify.getFriendsInfo(json)}}else if(json.actionId=="getUserInfo"){code="if (civet_js_notify.getUserInfo_{no}) { civet_js_notify.getUserInfo_{no}(json);}";try{code=code.replace(/\{no\}/g,json.value.emp_no.toUpperCase()),eval(code)}catch(e){}}else if(json.actionId=="view_video"){if(civet_js_notify.previewVideo)try{playSec=parseFloat(json.value.playSec,10),StaySec=parseFloat(json.value.StaySec,10),civet_js_notify.previewVideo(playSec,StaySec,json.value)}catch(e){}}else if(typeof json.actionId=="string"&&json.actionId!=""){code="if (civet_js_notify."+json.actionId+") { civet_js_notify."+json.actionId+"(json);}";try{eval(code),console.log(code)}catch(e){alert("页面上找不到civet_js_notify."+json.actionId+"方法，某些功能可能无法实现！")}}},cm.CivetJsSDKVersion="1.7.19012816",n.ShowCivetJsSDKVer=function(){var n="V"+cm.CivetJsSDKVersion;try{console.log(n)}catch(t){alert(n)}return n}}(window),Date.prototype.CivetFormat=function(n){var i={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},t;/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(t in i)new RegExp("("+t+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?i[t]:("00"+i[t]).substr((""+i[t]).length)));return n},window.cm.page_loaded=!1,document.onreadystatechange=function(){document.readyState=="complete"&&(window.cm.page_loaded=!0)},window.onhashchange=function(){var n;if(window.cm.page_loaded===!0&&(n=/[\s\S]*to([0-9]+)\*([0-9]+)[^0-9]*/ig,n.test(window.location.hash))){var r=window.location.hash.replace(n,"$1*$2").split("*"),u=[document.body.clientWidth-window.innerWidth,document.body.clientHeight-window.innerHeight],t=u[0]/99*r[0],i=u[1]/99*r[1];scrollTo(t>0?t:0,i>0?i:0)}},cm.freeMove=function(n){function f(){r=!0;var t;t=event.touches?event.touches[0]:event,u.x=t.clientX,u.y=t.clientY,s=n.offsetLeft,c=n.offsetTop}function o(){var f,e;r&&(f=event.touches?event.touches[0]:event,h=f.clientX-u.x,l=f.clientY-u.y,i=Math.max(0,s+h),t=Math.max(0,c+l),e=window.screen,i=Math.min(e.availWidth-40,i),t=Math.min(e.availHeight-31,t),n.style.right="",n.style.left=i+"px",n.style.top=t+"px",n.addEventListener("touchmove",function(){try{event.preventDefault()}catch(n){}},!1))}function e(){r=!1}var r=!1,u={x:0,y:0},h,l,s,c,i,t;n.addEventListener("mousedown",function(){f()},!1),n.addEventListener("touchstart",function(){f()},!1),n.addEventListener("mousemove",function(){r||f(),o()},!1),n.addEventListener("touchmove",function(){o()},!1),n.addEventListener("mouseup",function(){e()},!1),n.addEventListener("mouseout",function(){e()},!1),n.addEventListener("touchend",function(){e()},!1)},function(){function n(t,r){function h(n,t){return function(){return n.apply(t,arguments)}}var o,f,e,u,s;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=t,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!n.notNeeded(t)){for(f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],e=this,u=0,s=f.length;u<s;u++)e[f[u]]=h(e[f[u]],e);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(n,i,r){var u=Node.prototype.removeEventListener;n==="click"?u.call(t,n,i.hijacked||i,r):u.call(t,n,i,r)},t.addEventListener=function(n,i,r){var u=Node.prototype.addEventListener;n==="click"?u.call(t,n,i.hijacked||(i.hijacked=function(n){n.propagationStopped||i(n)}),r):u.call(t,n,i,r)}),typeof t.onclick=="function"&&(o=t.onclick,t.addEventListener("click",function(n){o(n)},!1),t.onclick=null)}}var u=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!u,t=/iP(ad|hone|od)/.test(navigator.userAgent)&&!u,r=t&&/OS 4_\d(_\d)?/.test(navigator.userAgent),e=t&&/OS [6-7]_\d/.test(navigator.userAgent),f=navigator.userAgent.indexOf("BB10")>0;n.prototype.needsClick=function(n){switch(n.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(n.disabled)return!0;break;case"input":if(t&&n.type==="file"||n.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(n.className)},n.prototype.needsFocus=function(n){switch(n.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(n.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!n.disabled&&!n.readOnly;default:return/\bneedsfocus\b/.test(n.className)}},n.prototype.sendClick=function(n,t){var r,i;document.activeElement&&document.activeElement!==n&&document.activeElement.blur(),i=t.changedTouches[0],r=document.createEvent("MouseEvents"),r.initMouseEvent(this.determineEventType(n),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),r.forwardedTouchEvent=!0,n.dispatchEvent(r)},n.prototype.determineEventType=function(n){return i&&n.tagName.toLowerCase()==="select"?"mousedown":"click"},n.prototype.focus=function(n){var i;t&&n.setSelectionRange&&n.type.indexOf("date")!==0&&n.type!=="time"&&n.type!=="month"?(i=n.value.length,n.setSelectionRange(i,i)):n.focus()},n.prototype.updateScrollParent=function(n){var i,t;if(i=n.fastClickScrollParent,!i||!i.contains(n)){t=n;do{if(t.scrollHeight>t.offsetHeight){i=t,n.fastClickScrollParent=t;break}t=t.parentElement}while(t)}i&&(i.fastClickLastScrollTop=i.scrollTop)},n.prototype.getTargetElementFromEventTarget=function(n){return n.nodeType===Node.TEXT_NODE?n.parentNode:n},n.prototype.onTouchStart=function(n){var f,i,u;if(n.targetTouches.length>1)return!0;if(f=this.getTargetElementFromEventTarget(n.target),i=n.targetTouches[0],t){if(u=window.getSelection(),u.rangeCount&&!u.isCollapsed)return!0;if(!r){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return n.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(f)}}return this.trackingClick=!0,this.trackingClickStart=n.timeStamp,this.targetElement=f,this.touchStartX=i.pageX,this.touchStartY=i.pageY,n.timeStamp-this.lastClickTime<this.tapDelay&&n.preventDefault(),!0},n.prototype.touchHasMoved=function(n){var i=n.changedTouches[0],t=this.touchBoundary;return Math.abs(i.pageX-this.touchStartX)>t||Math.abs(i.pageY-this.touchStartY)>t?!0:!1},n.prototype.onTouchMove=function(n){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(n.target)||this.touchHasMoved(n))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},n.prototype.findControl=function(n){return n.control!==undefined?n.control:n.htmlFor?document.getElementById(n.htmlFor):n.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},n.prototype.onTouchEnd=function(n){var h,c,f,o,s,u=this.targetElement;if(!this.trackingClick)return!0;if(n.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(n.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=n.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,e&&(s=n.changedTouches[0],u=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||u,u.fastClickScrollParent=this.targetElement.fastClickScrollParent),f=u.tagName.toLowerCase(),f==="label"){if(h=this.findControl(u),h){if(this.focus(u),i)return!1;u=h}}else if(this.needsFocus(u))return n.timeStamp-c>100||t&&window.top!==window&&f==="input"?(this.targetElement=null,!1):(this.focus(u),this.sendClick(u,n),t&&f==="select"||(this.targetElement=null,n.preventDefault()),!1);return t&&!r&&(o=u.fastClickScrollParent,o&&o.fastClickLastScrollTop!==o.scrollTop)?!0:(this.needsClick(u)||(n.preventDefault(),this.sendClick(u,n)),!1)},n.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},n.prototype.onMouse=function(n){return this.targetElement?n.forwardedTouchEvent?!0:n.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(n.stopImmediatePropagation?n.stopImmediatePropagation():n.propagationStopped=!0,n.stopPropagation(),n.preventDefault(),!1):!0:!0:!0},n.prototype.onClick=function(n){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):n.target.type==="submit"&&n.detail===0?!0:(t=this.onMouse(n),t||(this.targetElement=null),t)},n.prototype.destroy=function(){var n=this.layer;i&&(n.removeEventListener("mouseover",this.onMouse,!0),n.removeEventListener("mousedown",this.onMouse,!0),n.removeEventListener("mouseup",this.onMouse,!0)),n.removeEventListener("click",this.onClick,!0),n.removeEventListener("touchstart",this.onTouchStart,!1),n.removeEventListener("touchmove",this.onTouchMove,!1),n.removeEventListener("touchend",this.onTouchEnd,!1),n.removeEventListener("touchcancel",this.onTouchCancel,!1)},n.notNeeded=function(n){var t,u,r,e;if(typeof window.ontouchstart=="undefined")return!0;if(u=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],u)if(i){if(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||u>31&&document.documentElement.scrollWidth<=window.outerWidth))return!0}else return!0;return f&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.msTouchAction==="none"||n.style.touchAction==="manipulation"?!0:(e=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],e>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(t.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))?!0:n.style.touchAction==="none"||n.style.touchAction==="manipulation"?!0:!1},n.attach=function(t,i){return new n(t,i)},typeof define=="function"&&typeof define.amd=="object"&&define.amd?define(function(){return n}):typeof module!="undefined"&&module.exports?(module.exports=n.attach,module.exports.FastClick=n):window.FastClick=n}()